(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){e.exports={header:"Header_header__2Qiwx",loginBlock:"Header_loginBlock__11EkC"}},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return S}));var r=n(8),c=n.n(r),a=n(17),i=n(43),s=n(3),u=n(35),o=n(14),l=function(e){return o.b.get("profile/"+e).then((function(e){return e.data}))},d=function(e){return o.b.get("profile/status/"+e).then((function(e){return e.data}))},f=function(e){return o.b.put("profile/status",{status:e}).then((function(e){return e.data}))},j=function(e){var t=new FormData;return t.append("image",e),o.b.put("profile/photo",t,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){return e.data}))},b=function(e){return o.b.put("profile",e).then((function(e){return e.data}))},p={posts:[{id:1,message:"\u0410 \u043d\u0435 \u0432\u0441\u0451 \u044d\u0442\u043e",likes:50},{id:2,message:"\u0429\u0430\u0441 \u0431\u044b \u0432 \u0434\u043e\u0442\u0443",likes:0}],newPostText:"@Nautro_Kazenaki",profile:null,status:""},O={addPostActionCreator:function(e){return{type:"SN/PROFILE/ADD-POST",newPostText:e}},setUserProfile:function(e){return{type:"SN/PROFILE/SET-USER-PROFILE",profile:e}},setUserStatus:function(e){return{type:"SN/PROFILE/SET-STATUS",status:e}},deletePost:function(e){return{type:"SN/PROFILE/DELETE-POST",id:e}},savePhotoSuccess:function(e){return{type:"SN/PROFILE/SAVE-PHOTO-SUCCESS",photos:e}}},h=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:r=t.sent,n(O.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:r=t.sent,n(O.setUserStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:0===t.sent.resultCode&&n(O.setUserStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:0===(r=t.sent).resultCode&&n(O.savePhotoSuccess(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.id,t.next=3,b(e);case 3:if(0!==(i=t.sent).resultCode){t.next=12;break}if(null==a){t.next=9;break}n(h(a)),t.next=10;break;case 9:throw new Error("userId can't be null");case 10:t.next=14;break;case 12:return n(Object(u.a)("edit-profile",{_error:i.messages[0]})),t.abrupt("return",Promise.reject(i.messages[0]));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROFILE/ADD-POST":var n={id:5,message:t.newPostText,likes:1};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[n]),newPostText:""});case"SN/PROFILE/DELETE-POST":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.id}))});case"SN/PROFILE/SET-USER-PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"SN/PROFILE/SET-STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"SN/PROFILE/SAVE-PHOTO-SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});default:return e}}},105:function(e,t,n){},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(43),c=n(3),a={messages:[{id:1,message:"\u0432\u043e\u043d\u044f\u0435\u0448\u044c"},{id:2,message:"\u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \u0432\u0430\u0441, \u0447\u0435\u043c\u043f\u0438\u043e\u043d \u043b\u044e\u0434\u0435\u0439, \u0447\u0435\u043c\u043f\u0438\u043e\u043d \u0437\u0432\u0435\u0440\u0435\u0439!"},{id:3,message:"\u0433\u043e\u0440\u044b"},{id:4,message:"\u0437\u0430\u0432\u0442\u0440\u0430 \u0432\u044b\u0439\u0434\u0438 \u0432 \u043f\u043e\u043b\u043d\u0443\u044e \u0441\u043c\u0435\u043d\u0443"}],dialogs:[{id:1,name:"\u0423\u043b\u044c\u044f\u043d\u0430"},{id:2,name:"\u041c\u0430\u043a\u0441\u0438\u043c"},{id:3,name:"\u0410\u0433\u043d\u0435\u0441\u0441\u0430"},{id:4,name:"\u0412\u043e\u043d\u044e\u0447\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"}]},i={sendMessage:function(e){return{type:"SN/DIALOGS/SEND-MESSAGE",newMessageText:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/DIALOGS/SEND-MESSAGE":var n={id:5,message:t.newMessageText};return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}}},125:function(e,t,n){"use strict";t.a=n.p+"static/media/user.png.418d999c.png"},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var r,c=n(138),a=n.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"9a4a446d-7134-4fbe-a5f0-1c43675f5d88"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}))},143:function(e,t,n){e.exports={userAvatar:"Users_userAvatar__2et_4"}},18:function(e,t,n){e.exports={nav:"Nav_nav__1QKPq",item:"Nav_item__1VkpD",active:"Nav_active__24Ity"}},264:function(e,t,n){},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return b}));var r=n(3),c=n(96),a=(n(0),n(97)),i=n(44),s=n.n(i),u=n(1),o=["input","meta"],l=["input","meta"],d=function(e){var t=e.meta,n=t.touched,r=t.error,c=e.children,a=n&&r;return Object(u.jsxs)("div",{className:s.a.formControl+" "+(a?s.a.error:""),children:[Object(u.jsx)("div",{children:c}),a&&Object(u.jsxs)("span",{children:[" ",r," "]})]})},f=function(e){var t=e.input,n=(e.meta,Object(c.a)(e,o));return Object(u.jsx)(d,Object(r.a)(Object(r.a)({},e),{},{children:Object(u.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},j=function(e){var t=e.input,n=(e.meta,Object(c.a)(e,l));return Object(u.jsx)(d,Object(r.a)(Object(r.a)({},e),{},{children:Object(u.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))};function b(e,t,n,c,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return Object(u.jsxs)("div",{children:[Object(u.jsx)(a.a,Object(r.a)({className:s.a.input,placeholder:e,name:t,component:n,validate:c,type:i},o)),Object(u.jsx)("h4",{children:l})]})}},304:function(e,t,n){"use strict";n.r(t);n(105);var r=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,311)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},c=n(0),a=n.n(c),i=n(67),s=n.n(i),u=n(68),o=n(69),l=n(72),d=n(71),f=n(11),j=n(104),b=n(114),p=n(8),O=n.n(p),h=n(17),m=n(43),g=n(3),v=n(14),S={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v.b.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},follow:function(e){return v.b.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return v.b.delete("follow/".concat(e)).then((function(e){return e.data}))}},x=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(g.a)(Object(g.a)({},e),r):e}))},E={users:[],pageSize:5,totalUsersCount:0,page:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},w=function(e){return{type:"SN/USERS/FOLLOW",userId:e}},N=function(e){return{type:"SN/USERS/UNFOLLOW",userId:e}},_=function(e){return{type:"SN/USERS/SET_USERS",users:e}},C=function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",page:e}},P=function(e){return{type:"SN/USERS/SET_FILTER",payload:e}},U=function(e){return{type:"SN/USERS/SET_USERS_TOTAL_COUNT",count:e}},y=function(e){return{type:"SN/USERS/TOGGLE_IS_FETCHING",isFetching:e}},T=function(e,t){return{type:"SN/USERS/TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},I=function(e,t,n){return function(){var r=Object(h.a)(O.a.mark((function r(c,a){var i;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(y(!0)),c(C(e)),c(P(n)),r.next=5,S.getUsers(e,t,n.term,n.friend);case 5:i=r.sent,c(y(!1)),c(_(i.items)),c(U(i.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},R=function(){var e=Object(h.a)(O.a.mark((function e(t,n,r,c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(c(n)),t(T(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:x(e.users,t.userId,"id",{followed:!0})});case"SN/USERS/UNFOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:x(e.users,t.userId,"id",{followed:!1})});case"SN/USERS/SET_USERS":return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case"SN/USERS/SET_CURRENT_PAGE":return Object(g.a)(Object(g.a)({},e),{},{page:t.page});case"SN/USERS/SET_FILTER":return Object(g.a)(Object(g.a)({},e),{},{filter:t.payload});case"SN/USERS/SET_USERS_TOTAL_COUNT":return Object(g.a)(Object(g.a)({},e),{},{totalUsersCount:t.count});case"SN/USERS/TOGGLE_IS_FETCHING":return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/TOGGLE_FOLLOWING_IN_PROGRESS":return Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(m.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},k=n(35),A=function(){return v.b.get("auth/me").then((function(e){return e.data}))},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v.b.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},G=function(){return v.b.delete("auth/login")},D=function(){return v.b.get("security/get-captcha-url").then((function(e){return e.data}))},M={id:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null},z=function(e,t,n,r){return{type:"SN/AUTH/SET-USER-DATA",payload:{id:e,email:t,login:n,isAuth:r}}},H=function(e){return{type:"SN/AUTH/GET-CAPTCHA-URL-SUCCESS",payload:{captchaUrl:e}}},W=function(){return function(){var e=Object(h.a)(O.a.mark((function e(t){var n,r,c,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:(n=e.sent).resultCode===v.a.Success&&(r=n.data,c=r.id,a=r.email,i=r.login,t(z(c,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(){return function(){var e=Object(h.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:n=e.sent,r=n.url,t(H(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTH/SET-USER-DATA":case"SN/AUTH/GET-CAPTCHA-URL-SUCCESS":return Object(g.a)(Object(g.a)({},e),t.payload);default:return e}},q=n(139),X=n(137),J={initialized:!1},K=function(){return{type:"SN/APP/INITIALIZED-SUCCESS"}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/APP/INITIALIZED-SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},Y=Object(f.c)({profilePage:j.b,messagesPage:b.b,usersPage:L,auth:B,form:X.a,app:Q}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,$=Object(f.e)(Y,Z(Object(f.a)(q.a)));window._store_=$;var ee=$,te=n(19),ne=n(18),re=n.n(ne),ce=n(1),ae=function(){return Object(ce.jsxs)("nav",{className:re.a.nav,children:[Object(ce.jsx)("div",{className:"".concat(re.a.item," ").concat(re.a.active),children:Object(ce.jsx)(te.b,{to:"/profile",activeClassName:re.a.active,children:"Profile"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(te.b,{to:"/dialogs",activeClassName:re.a.active,children:"Messages"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(te.b,{to:"/users",activeClassName:re.a.active,children:"Users"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(te.b,{to:"/news",activeClassName:re.a.active,children:" News"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(te.b,{to:"/music",activeClassName:re.a.active,children:"Music"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(te.b,{to:"/settings",activeClassName:re.a.active,children:"Settings"})})]})},ie=(n(264),n(12)),se=function(){return Object(ce.jsx)("div",{children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})},ue=function(){return Object(ce.jsx)("div",{children:"\u043d\u043e\u0432\u043e\u0441\u0442\u0438"})},oe=function(){return Object(ce.jsx)("div",{children:"\u043c\u0443\u0437\u044b\u043a\u0430"})},le=n(10),de=n(74),fe=n(103),je=n(78),be=n.n(je),pe=n(142),Oe=n.n(pe),he=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.page,a=void 0===r?1:r,i=e.onPageChanged,s=void 0===i?function(e){return e}:i,u=e.portionSize,o=void 0===u?10:u,l=Math.ceil(t/n),d=[],f=1;f<=l;f++)d.push(f);var j=Math.ceil(l/o),b=Object(c.useState)(1),p=Object(fe.a)(b,2),O=p[0],h=p[1],m=(O-1)*o+1,g=O*o;return Object(ce.jsxs)("div",{className:be.a.paginator,children:[O>1&&Object(ce.jsx)("button",{onClick:function(){h(O-1)},children:" PREV "}),d.filter((function(e){return e>=m&&e<=g})).map((function(e){return Object(ce.jsx)("span",{className:Oe()(Object(de.a)({},be.a.selectedPage,a===e),be.a.pageNumber),onClick:function(t){s(e)},children:e},e)})),j>O&&Object(ce.jsx)("button",{onClick:function(){h(O+1)},children:" NEXT "})]})},me=n(143),ge=n.n(me),ve=n(125),Se=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,c=e.follow;return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("span",{children:[Object(ce.jsx)("div",{children:Object(ce.jsx)(te.b,{to:"/profile/"+t.id,children:Object(ce.jsx)("img",{src:null!=t.photos.small?t.photos.small:ve.a,className:ge.a.userAvatar})})}),Object(ce.jsx)("div",{children:t.followed?Object(ce.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:" Unfollow "}):Object(ce.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id)},children:" Follow "})})]}),Object(ce.jsxs)("span",{children:[Object(ce.jsxs)("span",{children:[Object(ce.jsx)("div",{children:t.name}),Object(ce.jsx)("div",{children:t.status})]}),Object(ce.jsx)("span",{children:Object(ce.jsxs)("div",{children:["user.location.country","user.location.city"]})})]})]})},xe=n(56),Ee=function(e){return{}},we=a.a.memo((function(e){return Object(ce.jsx)("div",{children:Object(ce.jsx)(xe.c,{initialValues:{term:"",friend:null},validate:Ee,onSubmit:function(t,n){var r=n.setSubmitting;e.onFilterChanged(t),r(!1)},children:function(e){var t=e.isSubmitting;return Object(ce.jsxs)(xe.b,{children:[Object(ce.jsx)(xe.a,{type:"text",name:"term"}),Object(ce.jsxs)(xe.a,{name:"friend",as:"select",children:[Object(ce.jsx)("option",{value:"null",children:"all"}),Object(ce.jsx)("option",{value:"true",children:"only friend"}),Object(ce.jsx)("option",{value:"false",children:"non friendo"})]}),Object(ce.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),Ne=n(147),_e=function(e){return e.usersPage.pageSize},Ce=function(e){return e.usersPage.totalUsersCount},Pe=function(e){return e.usersPage.page},Ue=function(e){return e.usersPage.isFetching},ye=function(e){return e.usersPage.followingInProgress},Te=function(e){return e.usersPage.filter},Ie=Object(Ne.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Re=function(e){var t=Object(le.d)(Ie),n=Object(le.d)(Ce),r=Object(le.d)(Pe),a=Object(le.d)(_e),i=Object(le.d)(Te),s=Object(le.d)(ye),u=Object(le.c)();Object(c.useEffect)((function(){u(I(r,a,i))}),[]);var o=function(e){u(function(e){return function(){var t=Object(h.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(n,e,S.follow.bind(S),w);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},l=function(e){u(function(e){return function(){var t=Object(h.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(n,e,S.unfollow.bind(S),N);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(we,{onFilterChanged:function(e){u(I(1,a,e))}}),Object(ce.jsx)(he,{page:r,onPageChanged:function(e){u(I(e,a,i))},totalItemsCount:n,pageSize:a}),Object(ce.jsx)("div",{children:t.map((function(e){return Object(ce.jsx)(Se,{user:e,followingInProgress:s,unfollow:l,follow:o},e.id)}))})]})},Le=n(66),ke=function(e){var t=Object(le.d)(Ue);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h2",{children:e.pageTitle}),t?Object(ce.jsx)(Le.a,{}):null,Object(ce.jsx)(Re,{})]})},Ae=n(100),Fe=n.n(Ae),Ge=function(e){return Object(ce.jsxs)("header",{className:Fe.a.header,children:[Object(ce.jsx)("img",{src:"http://www.demo.crosstechno.com/assets/Uploads/_resampled/SetHeight77-Your-Logo.png"}),Object(ce.jsx)("div",{className:Fe.a.loginBlock,children:e.isAuth?Object(ce.jsxs)("div",{children:[" ",e.login," - ",Object(ce.jsx)("button",{onClick:e.logout,children:"log out"})]}):Object(ce.jsx)(te.b,{to:"/login",children:"Login"})})]})},De=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(ce.jsx)(Ge,Object(g.a)({},this.props))}}]),n}(a.a.Component),Me=Object(le.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(h.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:0===e.sent.data.resultCode&&t(z(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(De),ze=n(55),He=n.n(ze),We=n(136),Ve=n(48),Be=n(29),qe=n(44),Xe=n.n(qe),Je=Object(Ve.a)(32),Ke=Object(We.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(ce.jsxs)("form",{onSubmit:t,children:[Object(ce.jsxs)("div",{children:[Object(Be.c)("email","email",Be.a,[Ve.b,Je],"userName",{className:He.a.input}),Object(Be.c)("password","password",Be.a,[Ve.b,Je],"password",{className:He.a.input}),Object(Be.c)("","rememberMe",Be.a,[],"checkbox",{className:He.a.checkbox},"remember me")]}),r&&Object(ce.jsx)("img",{src:r}),r&&Object(Be.c)("Symbols from image","captcha",Be.a,[Ve.b]),n&&Object(ce.jsx)("div",{className:Xe.a.formSummaryError,children:n}),Object(ce.jsx)("div",{children:Object(ce.jsx)("button",{className:He.a.button,children:" Login"})})]})})),Qe=function(e){var t=Object(le.d)((function(e){return e.auth.captchaUrl})),n=Object(le.d)((function(e){return e.auth.isAuth})),r=Object(le.c)();return n?Object(ce.jsx)(ie.a,{to:"/profile"}):Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h1",{children:" login"}),Object(ce.jsx)(Ke,{onSubmit:function(e){var t,n,c,a;r((t=e.email,n=e.password,c=e.rememberMe,a=e.captcha,function(){var e=Object(h.a)(O.a.mark((function e(r){var i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n,c,a);case 2:(i=e.sent).resultCode===v.a.Success?r(W()):(i.resultCode===v.a.CaptchaIsRequired&&r(V()),s=i.messages.length>0?i.messages[0]:"Some error",r(Object(k.a)("login",{_error:s})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:t})]})};function Ye(e){return function(t){return Object(ce.jsx)(a.a.Suspense,{fallback:Object(ce.jsx)(Le.a,{}),children:Object(ce.jsx)(e,Object(g.a)({},t))})}}var Ze=a.a.lazy((function(){return n.e(3).then(n.bind(null,313))})),$e=a.a.lazy((function(){return n.e(4).then(n.bind(null,312))})),et=Ye(Ze),tt=Ye($e),nt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).catchAllUnhandledErrors=function(e){alert("Some error occured")},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return Object(ce.jsxs)("div",{className:"app-wrapper",children:[Object(ce.jsx)(Me,{}),Object(ce.jsx)(ae,{}),Object(ce.jsx)(ie.d,{children:Object(ce.jsxs)("div",{className:"app-wrapper-content",children:[Object(ce.jsx)(ie.a,{from:"/",to:"/profile"}),Object(ce.jsx)(ie.b,{path:"/profile/:userId?",render:function(){return Object(ce.jsx)(tt,{})}}),Object(ce.jsx)(ie.b,{path:"/dialogs",render:function(){return Object(ce.jsx)(et,{})}}),Object(ce.jsx)(ie.b,{path:"/news",render:function(){return Object(ce.jsx)(ue,{})}}),Object(ce.jsx)(ie.b,{path:"/music",render:function(){return Object(ce.jsx)(oe,{})}}),Object(ce.jsx)(ie.b,{path:"/settings",render:function(){return Object(ce.jsx)(se,{})}}),Object(ce.jsx)(ie.b,{path:"/users",render:function(){return Object(ce.jsx)(ke,{pageTitle:"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}}),Object(ce.jsx)(ie.b,{path:"/login",render:function(){return Object(ce.jsx)(Qe,{})}})]})})]})}}]),n}(c.Component),rt=Object(f.d)(ie.g,Object(le.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(W());Promise.all([t]).then((function(){e(K())}))}}}))(nt),ct=function(){return Object(ce.jsx)(te.a,{basename:"/social-network-app",children:Object(ce.jsx)(le.a,{store:ee,children:Object(ce.jsx)(rt,{})})})};s.a.render(Object(ce.jsx)(ct,{}),document.getElementById("root")),r()},44:function(e,t,n){e.exports={formControl:"FormsControl_formControl__1M8Ek",error:"FormsControl_error__38lsR",formSummaryError:"FormsControl_formSummaryError__sMkF_"}},48:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){if(!e)return"Field is required"},c=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},55:function(e,t,n){e.exports={input:"Login_input__3lzMX",checkboxWrapper:"Login_checkboxWrapper__1obbr",checkbox:"Login_checkbox__1a8mz",button:"Login_button__CHBy6"}},66:function(e,t,n){"use strict";n(0);var r=n.p+"static/media/preloader2.svg.4963b81d.gif",c=n(1);t.a=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:r,style:{backgroundColor:"white"}})})}},78:function(e,t,n){e.exports={paginator:"Paginator_paginator__2AUjt",selectedPage:"Paginator_selectedPage__3IVJb",pageNumber:"Paginator_pageNumber__11vWv"}}},[[304,1,2]]]);
//# sourceMappingURL=main.6aaffb66.chunk.js.map