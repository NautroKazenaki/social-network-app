{"version":3,"sources":["Redux/dialogs-reducer.jsx","components/Users/Users.module.css","HOC/withAuthRedirect.js","components/Nav/Nav.module.css","api/api.js","reportWebVitals.js","utils/object-helpers.js","Redux/users-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.jsx","components/Nav/Nav.jsx","components/Settings/Settings.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Common/Paginator/Paginator.jsx","assets/images/user.png.png","components/Users/User.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","HOC/withSuspence.js","App.js","index.js","components/Common/FormsControl/FormsControl.jsx","components/Common/FormsControl/FormsControl.module.css","assets/images/preloader2.svg.gif","components/Common/Preloader/Preloader.jsx","components/Login/Login.module.css","utils/validators/validators.js","components/Common/Paginator/Paginator.module.css","components/Header/Header.module.css","Redux/profile-reducer.jsx"],"names":["SEND_MESSAGE","initialState","messages","id","message","dialogs","name","sendMessageActionCreator","newMessageText","type","dialogsReducer","state","action","newMessage","module","exports","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","updateObjectInArray","items","itemId","objPropName","newObjProps","map","i","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","users","totalUsersCount","page","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","usersPage","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleWare","_store_","Nav","className","s","nav","item","active","activeClassName","Settings","News","Music","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","src","photos","small","userPhoto","userAvatar","disabled","some","Users","u","getPageSize","getTotalUsersCount","getPage","getIsFetching","getFollowingInProgress","createSelector","UsersContainer","requestUsers","Preloader","bind","totalCount","Header","header","loginBlock","HeaderContainer","maxLength32","maxLengthCreator","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","createField","Input","required","input","checkbox","s2","formSummaryError","button","length","stopSubmit","_error","formData","withSuspence","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","FormControl","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","component","validators","text","validate","preloader","style","backgroundColor","value","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likes","newPostText","profile","addPostActionCreator","getUserProfile","setUserStatus","getUserStatus","newPost"],"mappings":"6JAAMA,EAAe,eAGjBC,EAAe,CACfC,SAAU,CACN,CAAEC,GAAI,EAAGC,QAAS,8CAClB,CAAED,GAAI,EAAGC,QAAS,sPAClB,CAAED,GAAI,EAAGC,QAAS,4BAClB,CAAED,GAAI,EAAGC,QAAS,mJAEtBC,QAAS,CACL,CAAEF,GAAI,EAAGG,KAAM,wCACf,CAAEH,GAAI,EAAGG,KAAM,wCACf,CAAEH,GAAI,EAAGG,KAAM,8CACf,CAAEH,GAAI,EAAGG,KAAM,qFA2BVC,EAA2B,SAACC,GACrC,MAAO,CACHC,KAAMT,EACNQ,mBAKOE,IA/BQ,WAAmC,IAAlCC,EAAiC,uDAAzBV,EAAcW,EAAW,uCAErD,OAAQA,EAAOH,MAGX,KAAKT,EAGD,IAAIa,EAAa,CACbV,GAAI,EACJC,QAASQ,EAAOJ,gBAEpB,OAAO,2BACAG,GADP,IAEIT,SAAS,GAAD,mBAAMS,EAAMT,UAAZ,CAAsBW,MAGtC,QACI,OAAOF,K,oBCnCnBG,EAAOC,QAAU,CAAC,WAAa,4B,qJCG3BC,EAA6B,SAACL,GAAD,MAAY,CACzCM,OAASN,EAAMO,KAAKD,SAGXE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKC,MAAMN,OACT,cAACG,EAAD,eAAeE,KAAKC,QADI,cAAC,IAAD,CAAUC,GAAG,eAHT,GACXC,IAAML,WAStC,OAFqCM,YAAQV,EAARU,CAAqCL,K,mBCf9EP,EAAOC,QAAU,CAAC,IAAM,iBAAiB,KAAO,kBAAkB,OAAS,sB,gCCD3E,mHAIMY,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAQ,gDACRC,QAAS,CACL,UAAW,0CAINC,EAAW,CACpBC,SADoB,WACsB,IAAjCC,EAAgC,uDAAlB,EAAGC,EAAe,uDAAJ,GACjC,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAClDE,MAAK,SAAAC,GACF,OAAOA,EAASC,SAG5BC,OAPoB,SAObC,GACH,OAAOd,EAASe,KAAT,iBAAwBD,KAEnCE,SAVoB,SAUXF,GACN,OAAOd,EAASiB,OAAT,iBAA0BH,KAEpCI,WAboB,SAaTJ,GAEP,OADAK,QAAQC,KAAK,kDACNC,EAAWH,WAAWJ,KAGxBO,EAAa,CACtBH,WADsB,SACXJ,GACP,OAAOd,EAASS,IAAI,WAAaK,IAErCQ,UAJsB,SAIZR,GACN,OAAOd,EAASS,IAAI,kBAAoBK,IAE5CS,aAPsB,SAOTC,GACT,OAAOxB,EAASyB,IAAT,iBAA+B,CAACD,OAASA,MAI3CE,EAAU,CACnBC,GADmB,WAEf,OAAO3B,EAASS,IAAT,YAEXmB,MAJmB,SAIbC,EAAOC,GAA+B,IAArBC,EAAoB,wDACvC,OAAO/B,EAASe,KAAT,aAA4B,CAACc,QAAOC,WAAUC,gBAEzDC,OAPmB,WAQf,OAAOhC,EAASiB,OAAT,iB,wECtCAgB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBzB,MAAK,YAAkD,IAA/C0B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,yICPDO,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,KAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZ,2BAAKI,GAAMF,GAEfE,MCFTC,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAA+B,+BAEjChF,EAAe,CACfiF,MAAO,GACP/C,SAAU,EACVgD,gBAAiB,EACjBC,KAAM,EACNC,YAAY,EACZC,oBAAqB,IA2DZC,EAAgB,SAAC9C,GAC1B,MAAO,CACHhC,KAAMkE,EACNlC,WAIK+C,EAAkB,SAAC/C,GAC5B,MAAO,CACHhC,KAAMmE,EACNnC,WAWKgD,EAAiB,SAACL,GAC3B,MAAO,CACH3E,KAAMqE,EACNM,SASKM,EAAmB,SAACL,GAC7B,MAAO,CACH5E,KAAMuE,EACNK,eAGKM,EAA4B,SAACN,EAAY5C,GAClD,MAAO,CACHhC,KAAMwE,EACNI,aAAY5C,WAkBdmD,EAAkB,uCAAG,WAAOC,EAAUpD,EAAQqD,EAAWC,GAApC,SAAAC,EAAA,6DACvBH,EAASF,GAA0B,EAAMlD,IADlB,SAEFqD,EAAUrD,GAFR,OAIU,IAJV,OAIVF,KAAK0D,YACdJ,EAASE,EAActD,IAE3BoD,EAASF,GAA0B,EAAOlD,IAPnB,2CAAH,4DAuBTyD,EA1IM,WAAmC,IAAlCvF,EAAiC,uDAAzBV,EAAcW,EAAW,uCACnD,OAAQA,EAAOH,MACX,KAAKkE,EACD,OAAO,2BACAhE,GADP,IAEIuE,MAAOd,EAAoBzD,EAAMuE,MAAOtE,EAAO6B,OAAQ,KAAK,CAAC0D,UAAU,MAW/E,KAAKvB,EACD,OAAO,2BACAjE,GADP,IAEIuE,MAAOd,EAAoBzD,EAAMuE,MAAOtE,EAAO6B,OAAQ,KAAK,CAAC0D,UAAU,MAE/E,KAAKtB,EACD,OAAO,2BACAlE,GADP,IACcuE,MAAOtE,EAAOsE,QAGhC,KAAKJ,EACD,OAAO,2BACAnE,GADP,IACcyE,KAAMxE,EAAOwE,OAG/B,KAAKL,EACD,OAAO,2BACApE,GADP,IACcwE,gBAAiBvE,EAAOwF,QAG1C,KAAKpB,EACD,OAAO,2BACArE,GADP,IACc0E,WAAYzE,EAAOyE,aAGrC,KAAKJ,EACD,OAAO,2BACAtE,GADP,IAEI2E,oBAAqB1E,EAAOyE,WAAP,sBACX1E,EAAM2E,qBADK,CACgB1E,EAAO6B,SACtC9B,EAAM2E,oBAAoBe,QAAO,SAAAlG,GAAE,OAAIA,GAAMS,EAAO6B,YAGlE,QACI,OAAO9B,I,QCpEb2F,EAAgB,4BAElBrG,EAAe,CACfE,GAAI,KACJqD,MAAO,KACPD,MAAO,KACP8B,YAAY,EACZpE,QAAQ,GAmBCsF,EAAkB,SAACpG,EAAIqD,EAAOD,EAAOtC,GAC9C,MAAO,CACHR,KAAM6F,EACNE,QAAS,CACLrG,KACAqD,QACAD,QACAtC,YAMCwF,EAAkB,yDAAM,WAAOZ,GAAP,uBAAAG,EAAA,sEACZ3C,IAAQC,KADI,OAEA,KAD7BhB,EAD6B,QAEpBC,KAAK0D,aAAmB,EACN3D,EAASC,KAAKA,KAAnCpC,EAD0B,EAC1BA,GAAIqD,EADsB,EACtBA,MAAOD,EADe,EACfA,MACjBsC,EAASU,EAAgBpG,EAAIqD,EAAOD,GAAO,KAJd,2CAAN,uDA6BhBmD,EAzDK,WAAmC,IAAlC/F,EAAiC,uDAAzBV,EAAcW,EAAW,uCAClD,OAAQA,EAAOH,MACX,KAAK6F,EACD,OAAO,2BACA3F,GACAC,EAAO4F,SAIlB,QACI,OAAO7F,I,kBCtBbgG,EAAsB,sBAExB1G,EAAe,CACf2G,aAAa,GAkCFC,EA9BI,WAAmC,IAAlClG,EAAiC,uDAAzBV,EAAcW,EAAW,uCACjD,OAAQA,EAAOH,MACX,KAAKkG,EACD,OAAO,2BACAhG,GADP,IAEIiG,aAAa,IAGrB,QACI,OAAOjG,ICTfmG,EAAWC,YAAgB,CAC1BC,YAAaC,IACbC,aAAcxG,IACdyG,UAAWjB,EACXhF,KAAMwF,EACNU,KAAMC,IACNC,IAAKT,IAGHU,EAAmBC,OAAOC,sCAAwCC,IAClEC,EAAQC,YAAYd,EAAWS,EAAiBM,YAAgBC,OASvEN,OAAOO,QAAUJ,EAEFA,Q,kCCJAK,GAxBH,WACR,OACI,uBAAKC,UAAWC,KAAEC,IAAlB,UACI,sBAAKF,UAAS,UAAKC,KAAEE,KAAP,YAAeF,KAAEG,QAA/B,SACI,eAAC,IAAD,CAAS7G,GAAG,WAAW8G,gBAAiBJ,KAAEG,OAA1C,uBAEJ,sBAAKJ,UAAWC,KAAEE,KAAlB,SACI,eAAC,IAAD,CAAS5G,GAAG,WAAW8G,gBAAiBJ,KAAEG,OAA1C,wBAEJ,sBAAKJ,UAAWC,KAAEE,KAAlB,SACI,eAAC,IAAD,CAAS5G,GAAG,SAAS8G,gBAAiBJ,KAAEG,OAAxC,qBAEJ,sBAAKJ,UAAWC,KAAEE,KAAlB,SACI,eAAC,IAAD,CAAS5G,GAAG,QAAQ8G,gBAAiBJ,KAAEG,OAAvC,qBAEJ,sBAAKJ,UAAWC,KAAEE,KAAlB,SACI,eAAC,IAAD,CAAS5G,GAAG,SAAS8G,gBAAiBJ,KAAEG,OAAxC,qBAEJ,sBAAKJ,UAAWC,KAAEE,KAAlB,SACI,eAAC,IAAD,CAAS5G,GAAG,YAAY8G,gBAAiBJ,KAAEG,OAA3C,4B,kBCdDE,GAPE,WACb,OACI,2FCKOC,GAPF,WACT,OACI,+ECKOC,GAPD,WACV,OACI,yE,8ECsCOC,GApCG,SAAC,GAGf,IAHyF,IAAxEC,EAAuE,EAAvEA,gBAAiBxG,EAAsD,EAAtDA,SAAUiD,EAA4C,EAA5CA,KAAMwD,EAAsC,EAAtCA,cAAsC,IAAvBC,mBAAuB,MAAT,GAAS,EACpFC,EAAaC,KAAKC,KAAKL,EAAkBxG,GACzC8G,EAAQ,GACHvE,EAAI,EAAGA,GAAKoE,EAAYpE,IAC7BuE,EAAMC,KAAKxE,GAGf,IAAIyE,EAAeJ,KAAKC,KAAKF,EAAaD,GAC1C,EAAwCO,mBAAS,GAAjD,oBAAKC,EAAL,KAAoBC,EAApB,KACIC,GAAyBF,EAAgB,GAAKR,EAAc,EAC5DW,EAAyBH,EAAgBR,EAE7C,OACI,uBAAKZ,UAAWC,KAAEuB,UAAlB,UACKJ,EAAgB,GACb,yBAAQK,QAAS,WAAQJ,EAAiBD,EAAgB,IAA1D,oBAEHJ,EACI5C,QAAO,SAAAsD,GAAC,OAAIA,GAAKJ,GAAyBI,GAAKH,KAC/C/E,KAAI,SAACkF,GACF,OAAO,uBAAM1B,UAAW2B,KAAG,gBACtB1B,KAAE2B,aAAezE,IAASuE,GAE3BzB,KAAE4B,YAEFJ,QAAS,SAACK,GACNnB,EAAce,IANf,SAOCA,GAHCA,MAKhBR,EAAeE,GACZ,yBAAQK,QAAS,WAAQJ,EAAiBD,EAAgB,IAA1D,wB,qBClCD,OAA0B,qCC6C1BW,GAzCF,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,KAAM3E,EAA2C,EAA3CA,oBAAqB3C,EAAsB,EAAtBA,SAAUH,EAAY,EAAZA,OAEjD,OACI,iCACI,kCACI,+BACI,eAAC,IAAD,CAAShB,GAAI,YAAcyI,EAAK9J,GAAhC,SACI,sBAAK+J,IAA0B,MAArBD,EAAKE,OAAOC,MAAgBH,EAAKE,OAAOC,MAAQC,GAAWpC,UAAWC,KAAEoC,iBAG1F,+BACKL,EAAK9D,SACA,yBAAQoE,SAAUjF,EACfkF,MAAK,SAAArK,GAAE,OAAIA,IAAO8J,EAAK9J,MACxBuJ,QAAS,WAAO/G,EAASsH,EAAK9J,KAFhC,wBAGA,yBAAQoK,SAAUjF,EAAoBkF,MAAK,SAAArK,GAAE,OAAIA,IAAO8J,EAAK9J,MAC3DuJ,QAAS,WAAOlH,EAAOyH,EAAK9J,KAD9B,2BAId,kCACI,kCACI,+BACK8J,EAAK3J,OAEV,+BACK2J,EAAK9G,YAGd,gCACI,iCACK,wBACA,iC,iECRVsH,GAxBD,SAAC,GAAyE,IAAvErF,EAAsE,EAAtEA,KAAMwD,EAAgE,EAAhEA,cAAeD,EAAiD,EAAjDA,gBAAiBxG,EAAgC,EAAhCA,SAAU+C,EAAsB,EAAtBA,MAAU3D,EAAY,mBAInF,OAEI,iCACI,eAAC,GAAD,CAAW6D,KAAMA,EAAMwD,cAAeA,EAAeD,gBAAiBA,EAAiBxG,SAAUA,IACjG,+BAEQ+C,EAAMT,KAAI,SAAAiG,GAAC,OAAI,eAAC,GAAD,CACXT,KAAMS,EAENpF,oBAAqB/D,EAAM+D,oBAC3B3C,SAAUpB,EAAMoB,SAChBH,OAAQjB,EAAMiB,QAHTkI,EAAEvK,a,4BCRlBwK,GAAc,SAAChK,GACxB,OAAOA,EAAMwG,UAAUhF,UAEdyI,GAAqB,SAACjK,GAC/B,OAAOA,EAAMwG,UAAUhC,iBAEd0F,GAAU,SAAClK,GACpB,OAAOA,EAAMwG,UAAU/B,MAEd0F,GAAgB,SAACnK,GAC1B,OAAOA,EAAMwG,UAAU9B,YAEd0F,GAAyB,SAACpK,GACnC,OAAOA,EAAMwG,UAAU7B,qBAGdrD,GAAW+I,cApBC,SAACrK,GACtB,OAAOA,EAAMwG,UAAUjC,SAoBvB,SAACA,GACG,OAAOA,EAAMmB,QAAO,SAAAqE,GAAC,OAAI,QChB3BO,G,4MAOFrC,cAAgB,SAACkB,GACb,IAAK3H,EAAY,EAAKZ,MAAjBY,SACL,EAAKZ,MAAM2J,aAAapB,EAAY3H,I,uDAPxC,WACI,MAAuBb,KAAKC,MAAvB6D,EAAL,EAAKA,KAAMjD,EAAX,EAAWA,SACXb,KAAKC,MAAM2J,aAAa9F,EAAMjD,K,oBAQlC,WACI,OAAO,uCACFb,KAAKC,MAAM8D,WAAa,eAAC8F,GAAA,EAAD,IAAgB,KACzC,eAAC,GAAD,CAAOxC,gBAAiBrH,KAAKC,MAAMoH,gBAC/BxG,SAAUb,KAAKC,MAAMY,SACrBiD,KAAM9D,KAAKC,MAAM6D,KACjBwD,cAAetH,KAAKsH,cACpB1D,MAAO5D,KAAKC,MAAM2D,MAClB1C,OAAQlB,KAAKC,MAAMiB,OACnBG,SAAUrB,KAAKC,MAAMoB,SACrB2C,oBAAqBhE,KAAKC,MAAM+D,oBAChCK,0BAA2BrE,KAAKC,MAAMoE,mC,GAvBzBlE,IAAML,WAwCpBsG,eACXhG,cAZkB,SAACf,GACnB,MAAO,CACHuE,MAAOjD,GAAStB,GAChBwB,SAAUwI,GAAYhK,GACtBgI,gBAAiBiC,GAAmBjK,GACpCyE,KAAMyF,GAAQlK,GACd0E,WAAYyF,GAAcnK,GAC1B2E,oBAAqByF,GAAuBpK,MAKvB,CAAE6B,ObgGT,SAACC,GACnB,8CAAO,WAAOoD,GAAP,SAAAG,EAAA,sDACHJ,EAAmBC,EAAUpD,EAAQT,IAASQ,OAAO4I,KAAKpJ,KAAWuD,GADlE,2CAAP,uDajGmC5C,SbsGf,SAACF,GACrB,8CAAO,WAAOoD,GAAP,SAAAG,EAAA,sDACHJ,EAAmBC,EAAUpD,EAAQT,IAASW,SAASyI,KAAKpJ,KAAWwD,GADpE,2CAAP,uDavG6CC,iBAAgBE,4BAA2BuF,abwEhE,SAAC9F,EAAMjD,GAC/B,8CAAO,WAAO0D,GAAP,eAAAG,EAAA,6DACHH,EAASH,GAAiB,IAC1BG,EAASJ,EAAeL,IAFrB,SAIcpD,IAASC,SAASmD,EAAMjD,GAJtC,OAICI,EAJD,OAMHsD,EAASH,GAAiB,IAC1BG,GAxCiBX,EAwCC3C,EAAK8B,MAvCpB,CACH5D,KAAMoE,EACNK,WAsCAW,GA5B2BV,EA4BC5C,EAAK8I,WA3B9B,CACH5K,KAAMsE,EACNqB,MAAOjB,KAiBJ,iCApBuB,IAACA,EAbVD,IAiCd,OAAP,yDa1EWwC,CAGbuD,I,oBCnCaK,GAfA,SAAC/J,GACZ,OACI,0BAAQ0G,UAAWC,KAAEqD,OAArB,UACI,sBAAKrB,IAAI,wFAET,sBAAKjC,UAAWC,KAAEsD,WAAlB,SACKjK,EAAMN,OACD,qCAAOM,EAAMgC,MAAb,MAAsB,yBAAQmG,QAASnI,EAAMoC,OAAvB,wBACtB,eAAC,IAAD,CAASnC,GAAI,SAAb,yBCJhBiK,G,4JAEE,WACI,OAAO,eAAC,GAAD,eAAYnK,KAAKC,Y,GAHNE,IAAML,WAgBrBM,iBARS,SAACf,GACrB,MAAM,CACFM,OAAQN,EAAMO,KAAKD,OACnBsC,MAAO5C,EAAMO,KAAKqC,SAKc,CAACI,OdyCnB,yDAAM,WAAOkC,GAAP,SAAAG,EAAA,sEACH3C,IAAQM,SADL,OAGS,IAHT,OAGXpB,KAAK0D,YACdJ,EAASU,EAAgB,KAAM,KAAM,MAAM,IAJvB,2CAAN,wDczCP7E,CAAoC+J,I,oECZ7CC,GAAcC,aAAiB,IAqB/BC,GAAiBC,aAAU,CAC7BzE,KAAM,SADayE,EAjBL,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,aAAcC,EAAa,EAAbA,MAC/B,OAAO,wBAAMC,SAAUF,EAAhB,UAEH,iCACKG,aAAY,QAAS,QAASC,KAAO,CAACC,KAAUT,IAAc,WAAY,CAAEzD,UAAWC,KAAEkE,QACzFH,aAAY,WAAY,WAAYC,KAAO,CAACC,KAAUT,IAAc,WAAY,CAAEzD,UAAWC,KAAEkE,QAC/FH,aAAY,GAAI,aAAcC,KAAO,GAAI,WAAY,CAAEjE,UAAWC,KAAEmE,UAAY,kBAEpFN,GAAS,sBAAK9D,UAAWqE,KAAGC,iBAAnB,SACLR,IAEL,+BACI,yBAAQ9D,UAAWC,KAAEsE,OAAQ/L,KAAK,eAAlC,4BA4BGiB,iBALS,SAACf,GAAD,MAAY,CAChCM,OAAQN,EAAMO,KAAKD,UAIiB,CAAEsC,MfFrB,SAACC,EAAOC,EAAUC,GAAlB,8CAAiC,WAAOmC,GAAP,iBAAAG,EAAA,sEAC7B3C,IAAQE,MAAMC,EAAOC,EAAUC,GADF,OAEjB,KAD7BpB,EAD8C,QAErCC,KAAK0D,WACdJ,EAASY,MAELrG,EAAUkC,EAASC,KAAKrC,SAASuM,OAAS,EAAInK,EAASC,KAAKrC,SAAS,GAAK,aAC9E2F,EAAS6G,YAAW,QAAS,CAAEC,OAAQvM,MANO,2CAAjC,wDeENsB,EAnBD,SAACH,GAKX,OAAIA,EAAMN,OACC,eAAC,KAAD,CAAUO,GAAI,aAGlB,iCACH,yCACA,eAACoK,GAAD,CAAgBI,SAVH,SAACY,GACdrL,EAAMgC,MAAMqJ,EAASpJ,MAAOoJ,EAASnJ,SAAUmJ,EAASlJ,qBChCnDmJ,GAAe,SAACzL,GACzB,OAAO,SAACG,GACL,OAAO,eAAC,IAAMuL,SAAP,CAAgBC,SAAU,eAAC5B,GAAA,EAAD,IAA1B,SACE,eAAC/J,EAAD,eAAeG,QCezByL,GAAmBvL,IAAMwL,MAAK,kBAAM,iCACpCC,GAAmBzL,IAAMwL,MAAK,kBAAM,iCAIpCE,G,uKAEJ,WACE7L,KAAKC,MAAM6L,kB,oBAGb,WAKE,OACE,uBAAKnF,UAAU,cAAf,UACE,eAAC,GAAD,IACA,eAAC,GAAD,IACA,uBAAKA,UAAU,sBAAf,UACE,eAAC,KAAD,CAAOoF,KAAK,oBAAoBC,OAAST,GAAaK,MAEtD,eAAC,KAAD,CAAOG,KAAK,WAAWC,OAAQT,GAAaG,MAE5C,eAAC,KAAD,CAAOK,KAAK,QAAQC,OAAQ,kBAAM,eAAC,GAAD,OAElC,eAAC,KAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,eAAC,GAAD,OAEnC,eAAC,KAAD,CAAOD,KAAK,YAAYC,OAAQ,kBAAM,eAAC,GAAD,OAEtC,eAAC,KAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,eAAC,GAAD,OAEnC,eAAC,KAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,eAAC,GAAD,iB,GA5B3BlM,aA6CdmM,GAAe7F,YACjB8F,KACA9L,cAVsB,SAACf,GAAD,MAAY,CAClCiG,YAAajG,EAAM2G,IAAIV,eASE,CAAEwG,chB9CA,kBAAM,SAACvH,GAChC,IAAI4H,EAAU5H,EAASY,KACvBiH,QAAQC,IAAI,CAACF,IACRpL,MAAK,WACFwD,EATD,CACHpF,KAAMkG,WgBgDKe,CAE4ByF,IAUhCS,GARC,SAACrM,GACf,OAAO,eAAC,IAAD,UACL,eAAC,KAAD,CAAUoG,MAAOA,EAAjB,SACE,eAAC4F,GAAD,SC3DFM,IAASP,OAAO,eAAC,GAAD,IAAaQ,SAASC,eAAe,SAUzDnK,K,sPC3BMoK,EAAc,SAAC,GAA+C,EAA9C5B,MAA+C,IAAD,IAAvC6B,KAAOC,EAAgC,EAAhCA,QAASnC,EAAuB,EAAvBA,MAAQoC,EAAe,EAAfA,SAC3CC,EAAWF,GAAWnC,EAG5B,OACI,sBAAK9D,UAAWC,IAAEmG,YAAc,KAAOD,EAAWlG,IAAE6D,MAAQ,IAA5D,UACI,8BACKoC,IAEJC,GAAY,qCAAQrC,EAAR,WAKZuC,EAAW,SAAC/M,GACrB,IAAO6K,EAAqC7K,EAArC6K,MAAwBmC,GAAahN,EAA9B0M,KAA8B1M,EAAxBiN,MAApB,YAA4CjN,EAA5C,IAEA,OACG,cAACyM,EAAD,2BAAiBzM,GAAjB,aAAwB,oDAAc6K,GAAWmC,QAG3CrC,EAAQ,SAAC3K,GAClB,IAAO6K,EAAoC7K,EAApC6K,MAAuBmC,GAAahN,EAA7B0M,KAA6B1M,EAAvBiN,MAApB,YAA2CjN,EAA3C,IAEA,OACI,cAACyM,EAAD,2BAAiBzM,GAAjB,aAAwB,iDAAW6K,GAAWmC,QAKzCtC,EAAc,SAACwC,EAAanO,EAAMoO,EAAWC,EAAYlO,GAA3C,IAAiDc,EAAjD,uDAAuD,GAAIqN,EAA3D,uDAAgE,GAAhE,OACvB,gCACA,cAAC,IAAD,aAAO3G,UAAWC,IAAEkE,MAAQqC,YAAaA,EAAanO,KAAMA,EAAMoO,UAAWA,EAAWG,SAAUF,EAAYlO,KAAMA,GAAUc,IAC9H,6BAAKqN,S,mBCpCT9N,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,yCCD1G,MAA0B,2C,OCU1BoK,IARG,SAAC5J,GACf,OACI,8BACI,qBAAK2I,IAAK4E,EAAWC,MAAO,CAAEC,gBAAiB,e,mBCJ3DlO,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,gBAAkB,+BAA+B,SAAW,wBAAwB,OAAS,wB,gCCD5I,oEAAO,IAAMoL,EAAW,SAAA8C,GACpB,IAAIA,EAEJ,MAAO,qBAGEtD,EAAmB,SAACuD,GAAD,OAAe,SAACD,GAC5C,GAAIA,EAAMxC,OAASyC,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,mBCNlCpO,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,gCAAgC,WAAa,gC,mBCAvHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,4NCCzDoO,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAc,cAEhBrP,EAAe,CACfsP,MAAO,CACH,CAAEpP,GAAI,EAAGC,QAAS,4DAAgBoP,MAAO,IACzC,CAAErP,GAAI,EAAGC,QAAS,kEAAiBoP,MAAO,IAE9CC,YAAa,mBACbC,QAAS,KACTvM,OAAQ,IAuCCwM,EAAuB,SAACF,GACjC,MAAO,CACHhP,KAAM0O,EACNM,gBAWKG,EAAiB,SAACnN,GAAD,8CAAY,WAAOoD,GAAP,eAAAG,EAAA,sEACjBhE,IAASa,WAAWJ,GADH,OAClCH,EADkC,OAGtCuD,GAT2B6J,EASHpN,EAASC,KAR1B,CACH9B,KAAM2O,EACNM,aAGkC,iCANZ,IAACA,IAMW,OAAZ,uDAMjBG,EAAgB,SAAC1M,GAC1B,MAAO,CACH1C,KAAM4O,EACNlM,WASK2M,EAAgB,SAACrN,GAAD,8CAAY,WAAOoD,GAAP,eAAAG,EAAA,sEAChBhD,IAAWC,UAAUR,GADL,OACjCH,EADiC,OAGrCuD,EAASgK,EAAcvN,EAASC,OAHK,2CAAZ,uDAMhBW,EAAe,SAACC,GAAD,8CAAY,WAAO0C,GAAP,SAAAG,EAAA,sEACfhD,IAAWE,aAAaC,GADT,OAGH,IAHG,OAGvBZ,KAAK0D,YACdJ,EAASgK,EAAc1M,IAJS,2CAAZ,uDAQb8D,IAjFQ,WAAmC,IAAlCtG,EAAiC,uDAAzBV,EAAcW,EAAW,uCAErD,OAAQA,EAAOH,MACX,KAAK0O,EAED,IAAIY,EAAU,CACV5P,GAAI,EACJC,QAASQ,EAAO6O,YAChBD,MAAO,GAEX,OAAO,2BACA7O,GADP,IAEI4O,MAAM,GAAD,mBAAM5O,EAAM4O,OAAZ,CAAmBQ,MAEhC,KAAKT,EACD,OAAO,2BACA3O,GADP,IAEI4O,MAAO5O,EAAM4O,MAAMlJ,QAAO,SAAAsD,GAAC,OAAIA,EAAExJ,IAAMS,EAAOT,QAEtD,KAAKiP,EACD,OAAO,2BACAzO,GADP,IAEI+O,QAAS9O,EAAO8O,UAExB,KAAKL,EACD,OAAO,2BACA1O,GADP,IAEIwC,OAAQvC,EAAOuC,SAEvB,QACI,OAAOxC,K","file":"static/js/main.77c1dd41.chunk.js","sourcesContent":["const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\n\r\nlet initialState = {\r\n    messages: [\r\n        { id: 1, message: \"воняешь\" },\r\n        { id: 2, message: \"приветствую вас, чемпион людей, чемпион зверей!\" },\r\n        { id: 3, message: \"горы\" },\r\n        { id: 4, message: \"завтра выйди в полную смену\" },\r\n    ],\r\n    dialogs: [\r\n        { id: 1, name: \"Ульяна\" },\r\n        { id: 2, name: \"Максим\" },\r\n        { id: 3, name: \"Агнесса\" },\r\n        { id: 4, name: \"Вонючая работа\" },\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case SEND_MESSAGE:\r\n\r\n\r\n            let newMessage = {\r\n                id: 5,\r\n                message: action.newMessageText,\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage],\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageText) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessageText\r\n    }\r\n}\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userAvatar\":\"Users_userAvatar__2et_4\"};","import  React, {Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth : state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1QKPq\",\"item\":\"Nav_item__1VkpD\",\"active\":\"Nav_active__24Ity\"};","import * as axios from 'axios'\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"0491db90-8c07-4289-97b6-874164b29c91\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n       return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('obsolete method. Please use profileAPI object.')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status : status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) =>{\r\n    return items.map(i => {\r\n        if (i[objPropName] === itemId) {\r\n            return { ...i, ...newObjProps }\r\n        }\r\n        return i;\r\n    \r\n    })\r\n}  ","import { usersAPI } from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\"\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET-USERS\"; //! если что, поменяй  \"-\"\" на \"_\"\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\r\nconst SET_USERS_TOTAL_COUNT = \"SET-USERS-TOTAL-COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\"\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = \"TOGGLE-FOLLOWING-IN-PROGRESS\"\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    page: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\",{followed: true} )\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return { ...u, followed: true }\r\n                //     }\r\n                //     return u;\r\n\r\n                // })\r\n\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\",{followed: false} )\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state, page: action.page\r\n            }\r\n        }\r\n        case SET_USERS_TOTAL_COUNT: {\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const followSuccess = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const unfollowSuccess = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (page) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        page\r\n    }\r\n}\r\nexport const setUsersTotalCount = (totalUsersCount) => {\r\n    return {\r\n        type: SET_USERS_TOTAL_COUNT,\r\n        count: totalUsersCount\r\n    }\r\n}\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\nexport const toggleFollowingInProgress = (isFetching, userId) => {\r\n    return {\r\n        type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n        isFetching, userId,\r\n    }\r\n}\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize)\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingInProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"MY-APP/AUTH/SET-USER-DATA\";\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                // isAuth: true\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const setAuthUserData = (id, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        payload: {\r\n            id,\r\n            email,\r\n            login,\r\n            isAuth,\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe,)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', { _error: message }))\r\n    }\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED-SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: INITIALIZED_SUCCESS,\r\n    }\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess())\r\n        })\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleWare from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n     profilePage: profileReducer,\r\n     messagesPage: dialogsReducer,\r\n     usersPage: usersReducer,\r\n     auth: authReducer,\r\n     form: formReducer,\r\n     app: appReducer,\r\n})\r\n\r\n const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\n// const { createStore, combineReducers, applyMiddleware } = require(\"redux\");\r\n\r\n\r\n\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nwindow._store_ = store;\r\n\r\nexport default store;","import { NavLink } from 'react-router-dom';\r\nimport s from './Nav.module.css'\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={`${s.item} ${s.active}`} >\r\n                <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.active}> News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n};\r\nexport default Nav;\r\n","const Settings = () =>{\r\n    return(\r\n        <div>\r\n            настройки\r\n        </div>\r\n    )\r\n};\r\nexport default Settings;","const News = () =>{\r\n    return(\r\n        <div>\r\n            новости\r\n        </div>\r\n    )\r\n};\r\nexport default News;","const Music = () =>{\r\n    return(\r\n        <div>\r\n            музыка\r\n        </div>\r\n    )\r\n};\r\nexport default Music;","import React, { useState } from 'react'\r\nimport s from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\nconst Paginator = ({ totalItemsCount, pageSize, page, onPageChanged, portionSize = 10 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 1 &&\r\n                <button onClick={() => { setPortionNumber(portionNumber - 1) }}> PREV </button>\r\n            }\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span className={cn({\r\n                        [s.selectedPage]: page === p\r\n                    },\r\n                        s.pageNumber)}\r\n                        key={p}\r\n                        onClick={(e) => {\r\n                            onPageChanged(p)\r\n                        }}>{p}</span>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n                <button onClick={() => { setPortionNumber(portionNumber + 1) }}> NEXT </button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator\r\n\r\n","export default __webpack_public_path__ + \"static/media/user.png.418d999c.png\";","import React from 'react'\r\nimport s from './Users.module.css'\r\nimport userPhoto from './../../assets/images/user.png.png'\r\nimport { NavLink } from 'react-router-dom'\r\nconst User = ({ user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div >\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={s.userAvatar} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress\r\n                            .some(id => id === user.id)}\r\n                            onClick={() => {unfollow(user.id) }}> Unfollow </button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {follow(user.id) }}> Follow </button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>\r\n                        {user.name}\r\n                    </div>\r\n                    <div>\r\n                        {user.status}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <div>\r\n                        {\"user.location.country\"}\r\n                        {\"user.location.city\"}\r\n                    </div>\r\n                </span>\r\n            </span>\r\n        </div>)\r\n}\r\n\r\n\r\n\r\n\r\nexport default User","import React from 'react'\r\nimport Paginator from '../Common/Paginator/Paginator'\r\nimport User from './User'\r\nconst Users = ({ page, onPageChanged, totalItemsCount, pageSize, users, ...props }) => {\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            <Paginator page={page} onPageChanged={onPageChanged} totalItemsCount={totalItemsCount} pageSize={pageSize} />\r\n            <div>\r\n                {\r\n                    users.map(u => <User\r\n                        user={u}\r\n                        key={u.id}\r\n                        followingInProgress={props.followingInProgress}\r\n                        unfollow={props.unfollow}\r\n                        follow={props.follow} />\r\n                    )\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import { createSelector } from \"reselect\";\r\n\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getPage = (state) => {\r\n    return state.usersPage.page;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n        return users.filter(u => true)\r\n    })","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingInProgress, requestUsers } from './../../Redux/users-reducer'\r\nimport Users from './Users'\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { getPageSize, getTotalUsersCount, getUsers, getPage, getIsFetching, getFollowingInProgress, } from '../../Redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {page, pageSize} = this.props\r\n        this.props.requestUsers(page, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        let {pageSize} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalItemsCount={this.props.totalItemsCount}\r\n                pageSize={this.props.pageSize}\r\n                page={this.props.page}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n                toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        page: getPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { follow, unfollow, setCurrentPage, toggleFollowingInProgress, requestUsers }),\r\n    //withAuthRedirect,\r\n)(UsersContainer)","import { NavLink } from 'react-router-dom'\r\nimport s from './Header.module.css'\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src='http://www.demo.crosstechno.com/assets/Uploads/_resampled/SetHeight77-Your-Logo.png' />\r\n\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth \r\n                    ? <div> {props.login} - <button onClick={props.logout}>log out</button></div>\r\n                    : <NavLink to={'/login'}>\r\n                    Login\r\n                </NavLink>}\r\n            </div>\r\n        </header >\r\n    )\r\n}\r\nexport default Header;","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport {logout} from './../../Redux/auth-reducer'\r\n\r\n\r\nclass HeaderContainer extends React.Component{\r\n\r\n        render() {\r\n            return <Header {...this.props} />\r\n        }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return{\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {logout}) (HeaderContainer);","import React from 'react'\r\nimport s from './Login.module.css'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators'\r\nimport { createField, Input } from '../Common/FormsControl/FormsControl'\r\nimport { connect } from 'react-redux'\r\nimport { login } from './../../Redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport s2 from './../Common/FormsControl/FormsControl.module.css'\r\n\r\nconst maxLength32 = maxLengthCreator(32)\r\n\r\n\r\n\r\nconst LoginForm = ({ handleSubmit, error, }) => {\r\n    return <form onSubmit={handleSubmit}>\r\n\r\n        <div>\r\n            {createField(\"email\", \"email\", Input, [required, maxLength32], \"userName\", { className: s.input })}\r\n            {createField(\"password\", \"password\", Input, [required, maxLength32], \"password\", { className: s.input },)}\r\n            {createField(\"\", \"rememberMe\", Input, [], \"checkbox\", { className: s.checkbox }, \"remember me\")}\r\n        </div>\r\n        {error && <div className={s2.formSummaryError}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            <button className={s.button} type='submitButton'> Login</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return <div>\r\n        <h1> login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { login })(Login)","import  React from \"react\";\r\nimport Preloader from \"../components/Common/Preloader/Preloader\";\r\n\r\n\r\n\r\nexport const withSuspence = (Component) => {\r\n    return (props) => {\r\n       return <React.Suspense fallback={<Preloader />}>\r\n                <Component {...props} />\r\n            </React.Suspense>\r\n    }\r\n}","import React from 'react'\nimport store from './Redux/redux-store'\nimport Nav from './components/Nav/Nav'\nimport './App.css';\nimport { Route, withRouter, BrowserRouter } from 'react-router-dom'\n\n\n\nimport Settings from './components/Settings/Settings';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\n\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\n//import ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/Login/Login';\nimport { Component } from 'react';\nimport { connect, Provider } from 'react-redux';\nimport { initializeApp } from './Redux/app-reducer'\nimport Preloader from './components/Common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport { withSuspence } from './HOC/withSuspence';\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\n\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    // if (!this.props.initialized) {\n    //   return <Preloader />\n    // }\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Nav />\n        <div className='app-wrapper-content'>\n          <Route path='/profile/:userId?' render= {withSuspence(ProfileContainer)} />\n\n          <Route path='/dialogs' render={withSuspence(DialogsContainer)} />\n            \n          <Route path='/news' render={() => <News />} />\n\n          <Route path='/music' render={() => <Music />} />\n\n          <Route path='/settings' render={() => <Settings />} />\n\n          <Route path='/users' render={() => <UsersContainer />} />\n\n          <Route path='/login' render={() => <LoginPage />} />\n\n        </div>\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\n// export default compose(\n//   withRouter,\n//   connect(mapStateToProps, {initializeApp})) (App);\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp }))(App);\n\nconst MainApp = (props) => {\n  return <BrowserRouter>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </BrowserRouter>\n}\n\nexport default MainApp;","\nimport './index.css';\n\nimport reportWebVitals from './reportWebVitals';\n\n\n\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n\n\nimport MainApp from './App';\n\n\n\n\n \n   \n    ReactDOM.render(<MainApp />, document.getElementById('root'));\n  \n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from 'react'\r\nimport { Field } from 'redux-form';\r\nimport s from './FormsControl.module.css'\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children,}) => {\r\n    const hasError = touched && error;\r\n\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '') }>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span> {error} </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child,  ...restProps} = props;\r\n\r\n    return (\r\n       <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n       \r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, component, validators, type, props={}, text=\"\") => (\r\n    <div> \r\n    <Field className={s.input}  placeholder={placeholder} name={name} component={component} validate={validators} type={type} {...props}/> \r\n    <h4>{text}</h4>\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__1M8Ek\",\"error\":\"FormsControl_error__38lsR\",\"formSummaryError\":\"FormsControl_formSummaryError__sMkF_\"};","export default __webpack_public_path__ + \"static/media/preloader2.svg.4963b81d.gif\";","import React from 'react'\r\nimport preloader from '../../../assets/images/preloader2.svg.gif'\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} style={{ backgroundColor: 'white' }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Login_input__3lzMX\",\"checkboxWrapper\":\"Login_checkboxWrapper__1obbr\",\"checkbox\":\"Login_checkbox__1a8mz\",\"button\":\"Login_button__CHBy6\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2AUjt\",\"selectedPage\":\"Paginator_selectedPage__3IVJb\",\"pageNumber\":\"Paginator_pageNumber__11vWv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Qiwx\",\"loginBlock\":\"Header_loginBlock__11EkC\"};","import { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\";\r\nconst SET_STATUS = \"SET-STATUS\";\r\nconst DELETE_POST = \"DELETE-POST\"\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: \"А не всё это\", likes: 50 },\r\n        { id: 2, message: \"Щас бы в доту\", likes: 0 },\r\n    ],\r\n    newPostText: '@Nautro_Kazenaki',\r\n    profile: null,\r\n    status: ''\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likes: 1,\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.id)\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText\r\n    }\r\n}\r\n\r\n\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    }\r\n}\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const setUserStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n}\r\nexport const deletePost = (id) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        id\r\n    }\r\n}\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n\r\n    dispatch(setUserStatus(response.data))\r\n\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}