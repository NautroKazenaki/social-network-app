(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{297:function(t,e,s){t.exports={avatarAndDescription:"ProfileInfo_avatarAndDescription__3_rdh"}},301:function(t,e,s){t.exports={post:"Post_post__3Qqu9"}},302:function(t,e,s){t.exports={posts:"Posts_posts__1t8R1"}},303:function(t,e,s){},305:function(t,e,s){"use strict";s.r(e);var n=s(3),a=s(28),i=s(29),r=s(31),o=s(30),c=s(0),u=s.n(c),p=s(47),j=s(297),d=s.n(j),b=s(128),l=s(1),f=function(t){var e=Object(c.useState)(!1),s=Object(b.a)(e,2),n=s[0],a=s[1],i=Object(c.useState)(t.status),r=Object(b.a)(i,2),o=r[0],u=r[1];Object(c.useEffect)((function(){u(t.status)}),[t.status]);return Object(l.jsxs)("div",{children:[!n&&Object(l.jsx)("div",{children:Object(l.jsx)("span",{onDoubleClick:function(){a(!0)},children:t.status||"-----"})}),n&&Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),t.updateStatus(o)},value:o})})]})},h=function(t){var e=t.profile,s=t.status,n=t.updateStatus;return e?Object(l.jsxs)("div",{className:d.a.avatarAndDescription,children:[Object(l.jsx)("img",{src:e.photos.large}),Object(l.jsx)(f,{status:s,updateStatus:n})]}):Object(l.jsx)(p.a,{})},O=s(301),x=s.n(O),m=function(t){return Object(l.jsxs)("div",{className:x.a.post,children:[Object(l.jsx)("img",{src:"https://sun9-68.userapi.com/impf/c851132/v851132376/1188a1/2LuEdvm-8sQ.jpg?size=1720x2160&quality=96&sign=2cd993cfc5b64e41790739f26db3a77f&type=album"}),t.message,Object(l.jsx)("div",{children:Object(l.jsxs)("button",{children:[t.likes," likes"]})})]})},v=s(302),g=s.n(v),P=s(89),S=s(127),_=s(66),k=s(37),w=Object(_.a)(10),y=u.a.memo((function(t){var e=t.posts.map((function(t){return Object(l.jsx)(m,{id:t.id,message:t.message,likes:t.likes})}));return Object(l.jsxs)("div",{className:g.a.posts,children:[Object(l.jsx)("h3",{children:"my posts "}),Object(l.jsx)(A,{onSubmit:function(e){t.addPost(e.newPostText)}}),e]})})),A=Object(S.a)({form:"profileNewPostForm"})((function(t){return Object(l.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(l.jsx)("div",{children:Object(l.jsx)(P.a,{component:k.b,name:"newPostText",validate:[_.b,w],placeholder:"start to write a new post"})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{children:"Add post"})})]})})),U=y,D=(s(303),s(14)),T=s(95),I=Object(D.b)((function(t){return{newPostText:t.profilePage.newPostText,posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t(Object(T.a)(e))}}}))(U),N=function(t){return t.profile?Object(l.jsxs)("div",{children:[Object(l.jsx)(h,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(l.jsx)(I,{})]}):Object(l.jsx)(p.a,{})},z=s(11),C=s(9),q=function(t){Object(r.a)(s,t);var e=Object(o.a)(s);function s(){return Object(a.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return Object(l.jsx)(N,Object(n.a)(Object(n.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(u.a.Component);e.default=Object(C.d)(Object(D.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:T.c,getUserStatus:T.d,updateStatus:T.e}),z.f)(q)}}]);
//# sourceMappingURL=3.1ab258a5.chunk.js.map